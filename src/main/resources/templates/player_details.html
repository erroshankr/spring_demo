<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Player Management System</title>
    <link rel="stylesheet" th:href="@{~/css/style.css}">
</head>
<body>
<h1>Player Management System</h1>

<!-- Form for adding a new player -->
<h2>Add New Player</h2>
<form id="playerForm" th:action="@{/addPlayer}" th:method="post" th:object="${player}">
    <input type="hidden" th:field="*{playerID}">
    <label for="name">Name:</label><br>
    <input type="text" th:field="*{name}" id="name" name="name" required><br><br>
    <label for="jersey">Jersey Number:</label><br>
    <input type="text" th:field="*{jerseyNo}" id="jersey" name="jerseyNo" required><br><br>
    <button type="submit">Submit</button>
</form>

<table class="styled-table">
    <thead>
    <tr>
        <th>Player ID</th>
        <th>Name</th>
        <th>Jersey</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <!-- Iterating over a list of playerModels -->
    <tr th:each="player : ${players}">
        <td th:text="${player.playerID}"></td>
        <td th:text="${player.name}"></td>
        <td th:text="${player.jerseyNo}"></td>
        <td>
            <div class="action-icons">
                <!-- Edit icon -->
                <i class="edit-icon" style="cursor:pointer;"
                   th:data-player-id="${player.playerID}"
                   onclick="editPlayer(this)">‚úèÔ∏è</i>
                <!-- Delete icon -->
                <i class="delete-icon" style="cursor:pointer;"
                   th:data-player-id="${player.playerID}"
                   onclick="deletePlayer(this)">üóëÔ∏è</i>
            </div>
        </td>
    </tr>
    </tbody>
</table>

<script>
    // Function to handle editing a player
    function editPlayer(element) {
        var playerID = element.getAttribute("data-player-id");
        var name = element.getAttribute("data-player-name");
        var jerseyNo = element.getAttribute("data-player-jersey");

        document.getElementById("playerID").value = playerID;
        document.getElementById("name").value = name;
        document.getElementById("jersey").value = jerseyNo;

        // Set the action URL for editing
        var actionUrl = '/editPlayer/' + playerID
</script>